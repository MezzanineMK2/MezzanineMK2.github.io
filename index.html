<html>
  <head>
    <title>LT-Roulette</title>
    <style type="text/css">
      .outer {
        display: table;
        position: absolute;
        height: 100%;
        width: 100%;
      }

      .middle {
        display: table-cell;
        vertical-align: middle;
      }

      .inner {
        margin-left: auto;
        margin-right: auto; 
        width: 600px;
      }

      #name {
        height: 100px;
        font-size: 102px;     
      }

      #spin {
        font-size: 36px;
      }
    </style>    
  </head>

  <body style="text-align: center;">
    <div class="outer">
      <div class="middle">
        <div class="inner">
          <h1 id="name">Ready!</h1>
          <button id="spin" onclick="startRoulette()">回せ！</button>
        </div>
      </div>
    </div>
    <script type="text/javascript">
      var NAMES = ["アレックス", "佐藤", "岩館", "近藤", "加賀", "佐々木", "川山", "山下", "宮崎", "本間", "東原", "成田", "桑田", "福西", "かわべ", "岡野"];
      var MAX_DELAY = 500;
      var currentDelay;
      var timer;
      var lastName = "";
      
      function randomInt(min, max){
        return Math.floor((Math.random() * (min + max)) + min);
      }

      function randomName(){
        var nextName = lastName;
        while(nextName === lastName){
          nextName = NAMES[randomInt(0, NAMES.length)];
        }
        lastName = nextName;
        return nextName;
      }

      function rouletteTick(){
        var name = randomName();
        document.getElementById("name").innerHTML = name;
        if(currentDelay < MAX_DELAY){
          currentDelay += 30;
          timer = window.setTimeout(rouletteTick, currentDelay);
        }else{
          document.getElementById("spin").disabled = false;
          document.getElementById("name").style.color = "black";
        }
      }

      function startRoulette(){
        currentDelay = 10;
        window.clearTimeout(timer);
        document.getElementById("spin").disabled = true;
        document.getElementById("name").style.color = "grey";
        rouletteTick();
      }
    </script>
  </body>
</html>