<!DOCTYPE html>
<html>
<head>
    <title>Multicolor Starfield</title>
    <meta content="text/html;charset=utf-8" http-equiv="Content-Type">
    <meta content="utf-8" http-equiv="encoding">
    <script src="https://code.jquery.com/jquery-3.6.0.min.js" crossorigin="anonymous"></script>
    <script src="https://code.jquery.com/ui/1.12.1/jquery-ui.min.js" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.6.0/dist/js/bootstrap.bundle.min.js" integrity="sha384-Piv4xVNRyMGpqkS2by6br4gNJ7DXjqk09RmUpJ8jgGtD7zP9yug3goQfGII0yAns" crossorigin="anonymous"></script>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.6.0/dist/css/bootstrap.min.css" crossorigin="anonymous">
    <link rel="stylesheet" href="https://code.jquery.com/ui/1.11.4/themes/cupertino/jquery-ui.css" integrity="sha384-B0vP5xmATw1+K9KRQjQERJvTumQW0nPEzvF6L/Z6nronJ3oUOFUFpCjEUQouq2+l" crossorigin="anonymous">
    <style type="text/css">
        canvas {
            background: #000000;
            margin: 32px auto;
            display: block;
        }
    </style>
    <script>
        function getRandom(min, max) {
            return Math.floor(Math.random() * (max - min + 1)) + min;
        };

        function drawField() {
            console.log("drawField");
            var canvas = document.getElementById("starfield"),
            context = canvas.getContext("2d"),
            stars = $("#star-count-value").val(),
            colors = $("#color-selection").val().split(" "),
            minRadius = $("#star-minimum-size-value").val(),
            maxRadius = $("#star-maximum-size-value").val();
            context.clearRect(0, 0, canvas.width, canvas.height);
            context.beginPath();
            context.rect(0, 0, canvas.width, canvas.height);
            context.fillStyle = "#000000";
            context.fill();
            for (var i = 0; i < stars; i++) {
                var x = Math.random() * canvas.offsetWidth;
                y = Math.random() * canvas.offsetHeight,
                radius = getRandom(minRadius * 100.0, maxRadius * 100.0) / 100.0,
                colorRGB = colors[getRandom(0,colors.length - 1)],
                colorAlpha = getRandom(5.0, 10.0) / 10.0;
                context.beginPath();
                context.arc(x, y, radius, 0, 360);
                context.fillStyle = "rgba(" + colorRGB + "," + colorAlpha + ")";
                context.fill();
            }
        };

        $( function() {
            drawField();
            $("#color-selection").on("change", function(){
                drawField();
            });
            $("#star-count-range").on("input", function(e){
                $("#star-count-value").val(e.target.value);
                drawField();
            });
            $("#star-count-value").on("input", function(e){
                $("#star-count-range").val(e.target.value);
                drawField();
            });
            $("#star-minimum-size-range").on("input", function(e){
                $("#star-minimum-size-value").val(e.target.value);
                drawField();
            });
            $("#star-minimum-size-value").on("input", function(e){
                $("#star-minimum-size-range").val(e.target.value);
                drawField();
            });
            $("#star-maximum-size-range").on("input", function(e){
                $("#star-maximum-size-value").val(e.target.value);
                drawField();
            });
            $("#star-maximum-size-value").on("input", function(e){
                $("#star-maximum-size-range").val(e.target.value);
                drawField();
            });
        });
    </script>   
</head>
<body>
    <div class="container">
        <h3 class="text-center">Multicolor Starfield Generator v3</h3>
        <h5 class="text-center">hint: right click the field and select "Save Image As..."</h5>
        <canvas id="starfield" width="960" height="540">
            
        </canvas>
        <div style="width: 720px; margin: 0 auto;">
            <div class="row">
                <div class="col-3">
                    <p>Color Selection</p>
                </div>
                <div class="col-9">
                    <select class="form-control" id="color-selection">
                        <option value="80,223,228 255,166,214 255,255,255">Transgender</option>
                        <option value="255,244,48 255,255,255 156,89,209">Non-binary</option>
                        <option value="186,186,186 255,255,255 186,244,132">Agender</option>
                        <option value="181,127,221 255,255,255 73,130,30">Genderqueer</option>
                        <option value="254,118,162 255,255,255 191,18,215 48,60,190">Genderfluid</option>
                        <option value="214,40,0 255,155,86 255,255,255 212,98,166 164,0,98">Lesbian</option>
                        <option value="214,2,112 155,79,150 0,56,168">Bisexual</option>
                        <option value="255,28,141 255,215,0 26,179,255">Pansexual</option>
                        <option value="164,164,164 255,255,255 129,0,129">Asexual</option>
                        <option value="255,255,255 110,0,113 211,211,211">Demisexual</option>
                        <option value="229,0,0 255,141,0 255,238,0 2,129,33 0,76,255 119,0,136">Classic Pride</option>
                    </select>
                </div>
            </div>
            <div class="row">
                <div class="col-3">
                    <p>Star Count</p>
                </div>
                <div class="col-7">
                    <input type="range" class="form-control-range" id="star-count-range" min="100" max="10000" value="100"/>
                </div>
                <div class="col-2">
                    <input type="number" class="form-control" id="star-count-value" min="100" max="10000" value="100"/>
                </div>
            </div>
            <div class="row">
                <div class="col-3">
                    <p>Star Minimum Size</p>
                </div>
                <div class="col-7">
                    <input type="range" class="form-control-range" id="star-minimum-size-range" min="1" max="10" step="0.5" value="1"/>
                </div>
                <div class="col-2">
                    <input type="number" class="form-control" id="star-minimum-size-value" min="1" max="10" value="1"/>
                </div>
            </div>
            <div class="row">
                <div class="col-3">
                    <p>Star Maximum Size</p>
                </div>
                <div class="col-7">
                    <input type="range" class="form-control-range" id="star-maximum-size-range" min="1" max="10" step="0.5" value="1"/>
                </div>
                <div class="col-2">
                    <input type="number" class="form-control" id="star-maximum-size-value" min="1" max="10" value="1"/>
                </div>
            </div>
        </div>
    </div>
</body>
</html>
